<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
    <head></head>
    <body>
        <div class="problem" th:fragment="exercise-fields(name, text, initial, tests, confirm)">
            <form method="post">
                <input type="text" name="name" id="name-editor" th:value="${name}">
                <p><strong>Instructions:</strong></p>
                <textarea name="text" id="text-editor" th:text="${text}"></textarea>
                <br>
                <p><strong>Starting Code:</strong></p>
                <textarea name="initial" id="editor" th:text="${initial}"></textarea>
                <p><strong>Tests:</strong></p>
                <div id="test-editor">
                    <p>Click on a test case to start modifying it.</p>
                    <div id="test-list"></div>
                    <a class="small admin button">ADD TEST CASE</a>
                </div>
                <input type="hidden" name="tests" value="">
                <br>
                <ul class="button-area">
                    <li><input type="submit" class="admin button" th:value="${confirm}"></li>
                    <li><a href="javascript:history.back()" class="caution button">CANCEL</a></li>
                </ul>
            </form>

            <div hidden id="accordion-prototype">
                <p class="accordion"><strong>Test: </strong></p>
            </div>
            <div hidden id="panel-prototype">
                <div class="panel">
                    <div>
                        Test the entire submission
                    </div>
                    <strong>Provided Inputs:</strong>
                    <div class="subsection">
                        <i>None</i>
                    </div>
                    <strong>Expected Outputs:</strong>
                    <div class="subsection">
                        <i>None</i>
                    </div>
                    <a class="small admin button">TOGGLE TEST TYPE</a>
                    <div class="dropdown">
                        <a onclick="toggleDropdown(this)" class="small admin button dropdown-button">ADD INPUT ▼</a>
                        <div class="dropdown-content">
                            <p>From the console</p>
                            <p>From a file</p>
                        </div>
                    </div>
                    <div class="dropdown">
                        <a onclick="toggleDropdown(this)" class="small admin button dropdown-button">ADD OUTPUT ▼</a>
                        <div class="dropdown-content">
                            <p>As a return value</p>
                            <p>On the console</p>
                            <p>To a file</p>
                        </div>
                    </div>
                    <a class="small caution button">DROP TEST</a>
                </div>
            </div>

            <script th:src="@{/scripts/edit-tests.js}"></script>
            <script th:inline="javascript">
                var testData = JSON.parse([[${tests}]])
                setup()
            </script>
            <div th:replace="fragments/editor :: editor-js"></div>
        </div>
    </body>
</html>